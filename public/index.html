<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />

		<title>Hello, world!</title>
	</head>
	<body>
		<h1>Hello, CBWA</h1>

		<div class="class container">
			<h2>Books</h2>

			<ul id="book-list"></ul>

			<br />

			<h2>Authors</h2>
			<ul id="author-list"></ul>
		</div>

		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

		<script>
			function callBack(params) {
				console.log("Started");
				$.getJSON("/books", function (data) {
					for (let i = 0; i < data.length; i++) {
						const book = data[i].name;
						const id = data[i].id;
						const author = data[i].author;
						$("#book-list").append("<li>" + id + " " + book + " " + author + "</li>");
						console.log(data);
					}

					$.getJSON("/authors", function (data) {
						for (let i = 0; i < data.length; i++) {
							const author = data[i].name;
							const id = data[i].id;
							$("#author-list").append("<li>" + id + " " + author + "</li>");
							console.log(author);
						}
					});
				});
			}

			$(document).ready(callBack);
			console.log("Starting");
		</script>
	</body>
</html>
